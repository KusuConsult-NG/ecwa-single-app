(()=>{var e={};e.id=1294,e.ids=[1294],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4612:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>d}),a(9821),a(2029),a(5866);var r=a(3191),s=a(8716),l=a(7922),n=a.n(l),i=a(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(t,o);let d=["",{children:["leaders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,9821)),"/Users/mac/ecwa-single-app/src/app/leaders/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,2029)),"/Users/mac/ecwa-single-app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/mac/ecwa-single-app/src/app/leaders/page.tsx"],x="/leaders/page",u={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/leaders/page",pathname:"/leaders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6193:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},4049:()=>{},288:(e,t,a)=>{Promise.resolve().then(a.bind(a,8184))},8184:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var r=a(326),s=a(7577);function l(){let[e,t]=(0,s.useState)([]),[a,l]=(0,s.useState)(!0),[n,i]=(0,s.useState)(!1),[o,d]=(0,s.useState)(null),[c,x]=(0,s.useState)({name:"",email:"",phone:"",role:"",portfolio:"",startDate:new Date().toISOString().split("T")[0]}),u=async()=>{l(!0);try{let e=await fetch("/api/leaders"),a=await e.json();t(a.leaders||[])}catch(e){console.error("Error loading leaders:",e)}finally{l(!1)}},m=async e=>{e.preventDefault();try{let e=o?`/api/leaders/${o.id}`:"/api/leaders";(await fetch(e,{method:o?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).ok&&(await u(),i(!1),d(null),x({name:"",email:"",phone:"",role:"",portfolio:"",startDate:new Date().toISOString().split("T")[0]}))}catch(e){console.error("Error saving leader:",e)}},p=e=>{d(e),x({name:e.name,email:e.email,phone:e.phone,role:e.role,portfolio:e.portfolio,startDate:e.startDate.split("T")[0]}),i(!0)},h=async e=>{if(confirm("Are you sure you want to delete this leader?"))try{(await fetch(`/api/leaders/${e}`,{method:"DELETE"})).ok&&await u()}catch(e){console.error("Error deleting leader:",e)}},g=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return a?r.jsx("div",{className:"container",children:r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:"text-lg",children:"Loading leaders..."})})}):(0,r.jsxs)("div",{className:"container",children:[(0,r.jsxs)("div",{className:"section-title",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Leadership Management"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Manage church leadership positions and roles"})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold",children:["Leaders (",e.length,")"]}),r.jsx("button",{onClick:()=>i(!0),className:"btn btn-primary",children:"Add Leader"})]}),0===e.length?r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No leaders found. Add your first leader to get started."}):r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Leader"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Portfolio"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,r.jsxs)("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:r.jsx("div",{className:"h-10 w-10 rounded-full bg-ecwa-100 flex items-center justify-center",children:r.jsx("span",{className:"text-ecwa-600 font-medium text-sm",children:e.name.split(" ").map(e=>e[0]).join("")})})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name}),r.jsx("div",{className:"text-sm text-gray-500",children:e.email})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.role}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.portfolio}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${g(e.status)}`,children:e.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.startDate).toLocaleDateString()}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[r.jsx("button",{onClick:()=>p(e),className:"text-ecwa-600 hover:text-ecwa-900 mr-3",children:"Edit"}),r.jsx("button",{onClick:()=>h(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id))})]})})]}),n&&r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:r.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,r.jsxs)("div",{className:"mt-3",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:o?"Edit Leader":"Add New Leader"}),(0,r.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),r.jsx("input",{type:"text",required:!0,value:c.name,onChange:e=>x({...c,name:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-ecwa-500 focus:border-ecwa-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),r.jsx("input",{type:"email",required:!0,value:c.email,onChange:e=>x({...c,email:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-ecwa-500 focus:border-ecwa-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),r.jsx("input",{type:"tel",value:c.phone,onChange:e=>x({...c,phone:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-ecwa-500 focus:border-ecwa-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),(0,r.jsxs)("select",{required:!0,value:c.role,onChange:e=>x({...c,role:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-ecwa-500 focus:border-ecwa-500",children:[r.jsx("option",{value:"",children:"Select Role"}),["President","General Secretary","Treasurer","Chairman","Secretary","LO","Senior Minister","Financial Secretary","Youth Pastor","CEL","Admin","Accountant","Auditor"].map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Portfolio"}),r.jsx("input",{type:"text",value:c.portfolio,onChange:e=>x({...c,portfolio:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-ecwa-500 focus:border-ecwa-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Start Date"}),r.jsx("input",{type:"date",required:!0,value:c.startDate,onChange:e=>x({...c,startDate:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-ecwa-500 focus:border-ecwa-500"})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{i(!1),d(null),x({name:"",email:"",phone:"",role:"",portfolio:"",startDate:new Date().toISOString().split("T")[0]})},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200",children:"Cancel"}),(0,r.jsxs)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-ecwa-600 border border-transparent rounded-md hover:bg-ecwa-700",children:[o?"Update":"Add"," Leader"]})]})]})]})})})]})}},2029:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i,metadata:()=>n});var r=a(9510),s=a(5317),l=a.n(s);a(5023);let n={title:"CHURCHFLOW – Full Clickable (All Screens + Auth)",description:"A closed-loop financial management for ECWA"};function i({children:e}){return r.jsx("html",{lang:"en",children:(0,r.jsxs)("body",{className:l().className,children:[(0,r.jsxs)("div",{className:"topbar",children:[(0,r.jsxs)("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center"},children:[r.jsx("button",{id:"menuBtn",className:"btn ghost","aria-label":"Toggle Menu",children:"☰"}),(0,r.jsxs)("div",{className:"badge",children:["CHURCHFLOW ",r.jsx("span",{style:{opacity:.6}})]})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[r.jsx("a",{className:"btn secondary",href:"/signup",children:"Sign Up"}),r.jsx("a",{className:"btn primary",href:"/login",children:"Log In"})]})]}),(0,r.jsxs)("div",{className:"layout",children:[(0,r.jsxs)("aside",{className:"sidebar",id:"sidebar",children:[r.jsx("div",{className:"badge",style:{background:"#0b3f86",color:"#fff",borderColor:"rgba(255,255,255,.2)"},children:"✚ CHURCHFLOW"}),(0,r.jsxs)("nav",{className:"nav",id:"nav",children:[r.jsx("a",{href:"/","data-route":!0,children:"\uD83C\uDFE0 Home"}),r.jsx("a",{href:"/dashboard","data-route":!0,children:"\uD83D\uDCCA Dashboard"}),r.jsx("a",{href:"/expenditures","data-route":!0,children:"\uD83E\uDDFE Expenditures"}),r.jsx("a",{href:"/expenditures/new","data-route":!0,children:"➕ Raise Expenditure"}),r.jsx("a",{href:"/approvals","data-route":!0,children:"✅ Approvals"}),r.jsx("a",{href:"/income","data-route":!0,children:"\uD83D\uDCB0 Income"}),r.jsx("a",{href:"/reports","data-route":!0,children:"\uD83D\uDCC8 Reports"}),r.jsx("a",{href:"/audit","data-route":!0,children:"\uD83D\uDD0D Audit Logs"}),r.jsx("a",{href:"/hr","data-route":!0,children:"\uD83E\uDDD1‍\uD83D\uDCBC HR Dashboard"}),r.jsx("a",{href:"/hr/staff","data-route":!0,children:"\uD83D\uDC65 Staff"}),r.jsx("a",{href:"/hr/payroll","data-route":!0,children:"\uD83E\uDDFE Payroll"}),r.jsx("a",{href:"/hr/leave","data-route":!0,children:"\uD83C\uDFD6️ Leave"}),r.jsx("a",{href:"/hr/queries","data-route":!0,children:"\uD83D\uDCE8 Queries"}),r.jsx("a",{href:"/bank","data-route":!0,children:"\uD83C\uDFE6 Bank"}),r.jsx("a",{href:"/executive","data-route":!0,children:"⭐ Executive"}),r.jsx("a",{href:"/settings","data-route":!0,children:"⚙️ Settings"}),r.jsx("a",{href:"/login","data-route":!0,children:"\uD83D\uDD10 Login"}),r.jsx("a",{href:"/signup","data-route":!0,children:"\uD83D\uDCDD Sign Up"})]})]}),r.jsx("main",{className:"content",children:e})]}),(0,r.jsxs)("nav",{className:"bottomnav",id:"bottomnav",children:[r.jsx("a",{href:"/dashboard","data-route":!0,children:"Home"}),r.jsx("a",{href:"/expenditures/new","data-route":!0,children:"Action"}),r.jsx("a",{href:"/approvals","data-route":!0,children:"Approvals"}),r.jsx("a",{href:"/hr","data-route":!0,children:"HR"}),r.jsx("a",{href:"/login","data-route":!0,children:"Login"})]}),r.jsx("div",{id:"toast",className:"toast",role:"status","aria-live":"polite",children:"Action completed"})]})})}},9821:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>l,default:()=>i});var r=a(8570);let s=(0,r.createProxy)(String.raw`/Users/mac/ecwa-single-app/src/app/leaders/page.tsx`),{__esModule:l,$$typeof:n}=s;s.default;let i=(0,r.createProxy)(String.raw`/Users/mac/ecwa-single-app/src/app/leaders/page.tsx#default`)},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[8948,5347],()=>a(4612));module.exports=r})();